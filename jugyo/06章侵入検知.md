# 6章　侵入検知
## 6.1 IDS概要
### 6.1.1 IDS
* Intrusion Detection System: 不正侵入検知システム
* 「検知」機能の実装

### 6.1.2 ファイアウォールとIDS
* ファイアウォール => ルール(ポリシー)に基づいて通信を制御
* IDS => ルール(シグネチャ)にもとづいて通信を監視

## 6.2 IDSの構成
### 6.2.1 ネットワーク型IDS
* パケットを監視対象として、ネットワークでの不正アクセスを検知
* <dl>
<dt>プロミスキャスモード(無差別モード)</dt>
<dd>自分宛てでないデータも取得する機能</dd>
<dd>IPアドレスを持つ必要がない</dd>
</dl>
* <dl>
<dt>HUB</dt>
<dd>リピータを使用するか、ミラーポート機能付きスイッチ</dd>
</dl>
* <dl>
<dt>ミラーポート</dt>
<dd>すべてのポートのパケットを取得する必要があるため</dd>
</dl>

### 6.2.2 ホスト型IDS
- PC上のプロセスやログ、ファイルなどが監視対象
- 監視対象でエージェントプログラムを実行し、監視

### 6.2.3 IDSの構成
* 検知を行うモジュール
	* NIDS => 検知エンジン
	* HIDS => エージェント
* 管理を行うモジュール
	* 
- SNMP(Simple Network Management Protocol)
	- 検知もジュール -> 管理コンソール
	- 不正の検知
- NICが2枚
	- 監視用ポート
	- 管理用ポート

## 6.3 検知アルゴリズム

### 6.3.1 不正検知(Misuse detection)
* パターンマッチング
* データベース => シグネチャ
* 未知の不正アクセスの検知不可

### 6.3.2 異常検知(Anomaly detection)
* RFCに準拠しない通信
	- RFC => インターネットで利用される通信技術の仕様をまとめた文書
* しきい値
	- 統計型、プロファイル型
* 過去の経験上 => 動作パターンによって不正を検知
	- ヒューリスティック型、ビヘイビア型

## 6.4 関連技術

- IPS
- ハニーポット

### 6.4.1 IPS(Intrusion Prevention System)
* NIDS(検知) + 廃棄 => IPS(自動化)
- 誤検知
	* False Positive(陽性) => ほんとはOKなのに通さなかった
	* False Negative(陰性) => ほんとはNGなのに通した
* 精度も高まり、幅広く活用

### 6.4.2 ハニーポット

* わざと脆弱性を持つPCやネットワークを公開
* 攻撃者の不正アクセス
	* 攻撃手法の研究
	* 抑制効果 => 踏み台の可能性NG