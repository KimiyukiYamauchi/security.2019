# 14章　PKI
## 14.1 電子証明書

* 公開鍵が本物であることを証明するデータ
* 三者間認証

### 14.1.1 電子証明書

* 公開鍵を証明書の申請者とひも付ける電子データ
* 公開鍵の真正性を確保する必要がある場合、  
公開鍵は電子証明書によって交付します。
* 電子証明書と印鑑証明書の共通点
	* 情報主体（持ち主）とエンティティ（公開鍵や印影）をひも付ける
	* 情報主体の実在の確認を行う
	* 真正性の確認を行う
	* 法的な効力がある => 電子署名法

### 14.1.2 電子証明書の検証

* 電子証明書の発行要求
	* 認証局へ申請
	* 公開鍵
	* 申請者を識別できる情報

* 電子証明書の発行
	* 真正性の確認
	* 申請データをハッシュ化
	* 認証局の秘密鍵で暗号化 => 認証局による電子署名
	* 電子証明書の発行

* 実習
	* openssl

* 認証局の電子証明書
	* ブラウザにインストールした状態で出荷

* 電子証明書の検証
	1. httpsによるアクセス(クライアント => サーバ)
	2. 電子証明書を送付(サーバ => クライアント)
	3. 認証局の署名の有効性のチェック(クライアント)
	4. 電子証明書の内容の検証(クライアント)  
	NG => 画面に警告表示
	5. OK => サーバの公開鍵受け入れ、共通鍵作成(クライアント)
	6. OK => 共通鍵を作成
	7. OK => 共通鍵をサーバの公開鍵で暗号化
	8. OK => これをサーバに送信

## 14.2 認証局

* 電子証明書の発行や維持管理

### 14.2.1 認証局の役割

* 信頼できる第三者
	* 「電子署名」のしくみ
	* 「電子署名法」という法律
* 電子証明書の発行業務
	- 登録局 - 真正性の確認
	- 発行局 - 電子証明書の発行
* 電子証明書の管理業務

### 14.2.2 認証局が管理する情報

* リポジトリ
	* 電子証明書
	* CRL(証明書失効リスト):Certificate Revocation List  
	=> 秘密鍵が外部に漏れる
* OCSP(Online Certificate Status Protocol)を使用してリポジトリアクセス

## 14.3 PKI
### 14.3.1 PKI

* 公開鍵基盤(Public Key Infrastructure)
	* 暗号化
	* 改ざんの検知
	* なりすましの検知
	* 否認の防止

* PKI => 公開鍵暗号方式を基板とした技術と仕組みの総称
	* 公開鍵暗号
	* 公開鍵暗号方式による鍵(共通鍵)交換 
	* 電子署名
	* 電子証明書
	* 認証局
	* 電子署名法
	* セキュリティプロトコル(SSL)
	* 上記に対する実装や運用、教育
